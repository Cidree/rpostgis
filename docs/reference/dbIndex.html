<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create an index. <U+2014> dbIndex <e2><80><a2> rpostgis</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">rpostgis</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/mablab/rpostgis">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://mablab.org/">MabLab</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create an index.</h1>
    </div>

    
    <p>Defines a new index on a PostgreSQL table.</p>
    

    <pre class="usage"><span class='fu'>dbIndex</span>(<span class='no'>conn</span>, <span class='no'>name</span>, <span class='no'>colname</span>, <span class='no'>idxname</span>, <span class='kw'>unique</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"btree"</span>,
  <span class='st'>"hash"</span>, <span class='st'>"rtree"</span>, <span class='st'>"gist"</span>), <span class='kw'>display</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>exec</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>conn</th>
      <td><p>A connection object.</p></td>
    </tr>
    <tr>
      <th>name</th>
      <td><p>A character string specifying a PostgreSQL table name.</p></td>
    </tr>
    <tr>
      <th>colname</th>
      <td><p>A character string, or a character vector
specifying the name of the column to which the key will be
associated; alternatively, a character vector specifying the
name of the columns to build the index.</p></td>
    </tr>
    <tr>
      <th>idxname</th>
      <td><p>A character string specifying the name of the index
to be created. By default, this uses the name of the table
(without the schema) and the name of the columns as follows:
<code>&lt;table_name&gt;_&lt;column_names&gt;_idx</code>.</p></td>
    </tr>
    <tr>
      <th>unique</th>
      <td><p>Logical. Causes the system to check for duplicate
values in the table when the index is created (if data already
exist) and each time data is added. Attempts to insert or
update data which would result in duplicate entries will
generate an error.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The name of the method to be used for the
index. Choices are <code>"btree"</code>, <code>"hash"</code>,
<code>"rtree"</code>, and <code>"gist"</code>. The default method is
<code>"btree"</code>, although <code>"gist"</code> should be the index of
choice for PostGIS spatial types (geometry, geography,
raster).</p></td>
    </tr>
    <tr>
      <th>display</th>
      <td><p>Logical. Whether to display the query (defaults to
<code>TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>exec</th>
      <td><p>Logical. Whether to execute the query (defaults to
<code>TRUE</code>).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>TRUE</code> if the index was successfully created.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p>The PostgreSQL documentation:
    <a href='http://www.postgresql.org/docs/current/static/sql-createindex.html'>http://www.postgresql.org/docs/current/static/sql-createindex.html</a>;
    the PostGIS documentation for GiST indexes:
    <a href='http://postgis.net/docs/using_postgis_dbmanagement.html#id541286'>http://postgis.net/docs/using_postgis_dbmanagement.html#id541286</a></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Examples use a dummy connection from DBI package</span>
<span class='no'>conn</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>DBI</span><span class='kw ns'>::</span><span class='fu'><a href='http://www.rdocumentation.org/packages/DBI/topics/ANSI'>ANSI</a></span>()

<span class='co'>## GIST index</span>
<span class='fu'>dbIndex</span>(<span class='no'>conn</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"sch"</span>, <span class='st'>"tbl"</span>), <span class='kw'>colname</span> <span class='kw'>=</span> <span class='st'>"geom"</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"gist"</span>,
    <span class='kw'>exec</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>Query not executed:</span></div><div class='output co'>#&gt; <span class='message'>CREATE INDEX "tbl_geom_idx" ON "sch"."tbl" USING GIST ("geom");</span></div><div class='output co'>#&gt; <span class='message'>--</span></div><div class='input'>
<span class='co'>## Regular BTREE index on multiple columns</span>
<span class='fu'>dbIndex</span>(<span class='no'>conn</span>, <span class='kw'>name</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"sch"</span>, <span class='st'>"tbl"</span>), <span class='kw'>colname</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"col1"</span>, <span class='st'>"col2"</span>,
    <span class='st'>"col3"</span>), <span class='kw'>exec</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'>Query not executed:</span></div><div class='output co'>#&gt; <span class='message'>CREATE INDEX "tbl_col1_col2_col3_idx" ON "sch"."tbl" ("col1", "col2", "col3");</span></div><div class='output co'>#&gt; <span class='message'>--</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Mathieu Basille <a href='mailto:basille@ufl.edu'>basille@ufl.edu</a>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Mathieu Basille, David Bucklin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
